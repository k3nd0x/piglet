<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Piglet | Einstellungen</title>

    <link rel="stylesheet" href="static/index/css/Newsletter-Subscription-Form.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap4.min.css">
    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap4.min.js"></script>

    <link rel="icon" type="image/x-icon" href="static/favicon_v2.ico">
    <link rel="stylesheet" href="static/custom.css">

    <script type="text/javascript" class="init">
        $(document).ready(function() {
            $('table.display').DataTable({
                "pagingType": "full_numbers",
                "language": {
                    "lengthMenu": "Maximale Einträge _MENU_",
                    "zeroRecords": "Leider nichts gefunden &#128533",
                    "info": "Seite _PAGE_ von _PAGES_",
                    "infoEmpty": "Keine Einträge gefunden",
                    "infoFiltered": "(gefiltert von allen _MAX_ Einträgen )",
                    "search": "Suche",
                    "paginate": {
                        "first": "",
                        "last": "",
                        "next": "",
                        "previous": ""
                    },
                }
            });
        });
    </script>
    <script>
        $.get("/footer", function(data) {
            $("#footer-placeholder").replaceWith(data);
        });
    </script>
</head>

<body>
    <section class="newsletter-subscribe">
        <div id="nav-placeholder"></div>
        <div class="container">
            <div class="m-4">
                <ul class="nav nav-tabs" id="myTab">
                    <li class="nav-item">
                        <a href="#category" class="nav-link-piglet active" data-bs-toggle="tab">Kategorie</a>
                    </li>
                    <li class="nav-item">
                        <a href="#user" class="nav-link-piglet" data-bs-toggle="tab">Benutzer</a>
                    </li>
                    <li class="nav-item">
                        <a href="#messages" class="nav-link-piglet" data-bs-toggle="tab">Messages</a>
                    </li>
                </ul>
            </div>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="category">
                    <div class="row justify-content-center">

                        <div class="container">
                            <h4 class="mt-2">
                                <center>Neue Kategorie hinzufügen</center>
                            </h4>
                            <br>

                            <div class="row justify-content-center">
                                <div class="form-inline justify-content-center">
                                    <center>
                                        <form class="form-inline" method="POST" action="{{ url_for('settings') }}">
                                            <div class="input-group mb-3 w-50">
                                                <input type="text" class="form-control" style="border-radius: 40px;" name="new_cat" placeholder="Kategorie Name">
                                                <div class="input-group-append">
                                                    <button class="btn-piglet" id="add_cat" name="add_cat" value="add_cat" type="submit" style="margin-top:40px;">Kategorie hinzufügen</button>
                                                </div>
                                            </div>
                                        </form>
                                    </center>
                                    <br>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <p class="text-primary m-0 fw-bold">Kategorie</p>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">

                                    <table class="display table my-0" id="">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Name</th>
                                                <th>Aktionen</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <div class="input-group">
                                                {% for item in categories %}
                                                <tr>
                                                    <td><input type="hidden" class="form-control" style="border-radius: 40px;" name="remove_cat" value="{{ item.id }}">{{ item.id }}</td>
                                                    <td> {{ item.name }}</td>
                                                    <td>
                                                        <a style="text-decoration:none" href="/delete?name=cat&id={{ item.id }}" class="btn-sm btn-danger">
                                                            <i class="far fa-trash-alt"></a>
                                                            </td>
                                                </tr>
                                                {% endfor %}
                                            </div>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="user">
                    <div class="row justify-content-center">

                        <div class="container">
                            <h4 class="mt-2">
                                <center>Neuen Benutzer hinzufügen</center>
                            </h4>
                            <br>

                            <div class="row justify-content-center">
                                <div class="form-inline justify-content-center">
                                    <form class="d-flex justify-content-center flex-wrap" method="POST" action="{{ url_for('settings') }}">
                                        <input type="text" class="form-control" style="border-radius: 40px;" name="name" placeholder="Name">
                                        <input type="text" class="form-control" style="border-radius: 40px;" name="displayname" placeholder="Anzeige Name">

                                        <div class="mb-3"><button class="btn-piglet" id="add_user" name="add_user" value="add_user" type="submit">Benutzer hinzufügen</button></div>
                                    </form>
                                    <br>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <p class="text-primary m-0 fw-bold">Benutzer</p>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive table mt-2" id="dataTable" role="grid" aria-describedby="dataTable_info">
                                    <table class="display table my-0" id="">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Anzeige Name</th>
                                                <th>Benutzer Name</th>
                                                <th>Aktionen</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for item in users %}
                                            <tr>
                                                <td><input type="hidden" class="form-control" style="border-radius: 40px;" name="remove_user" value="{{ id }}">{{ item.id }}</td>
                                                <td> {{ item.display_name }}</td>
                                                <td> {{ item.name }}</td>
                                                <td><a style="text-decoration:none" href="/delete?name=user&id={{ item.id }}" class="btn-sm btn-danger"><i class="far fa-trash-alt"></a></td>

                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
<div id="footer-placeholder"></div>

</html>
